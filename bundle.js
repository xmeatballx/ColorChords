(()=>{"use strict";var t={132:(t,e,n)=>{var o=n(677),a=n(687),s=n(25);(0,s.renderListTemplate)(o.state),a.pubsub.subscribe("note added",s.renderListTemplate),a.pubsub.subscribe("note deleted",s.renderListTemplate),a.pubsub.subscribe("controls changed",(function(){})),a.pubsub.subscribe("theme changed",(function(){}))},751:()=>{},542:(t,e,n)=>{n.d(e,{q:()=>s});var o=n(677),a=n(687);function s(){const t=document.querySelectorAll(".param");[...t].forEach((t=>{t.addEventListener("input",(t=>function(t){const e=t.target.getAttribute("data-index"),n=t.target.getAttribute("data-parameter"),s=t.target.value;console.log(s),("velocity"==n||"octave"==n||"interval"==n)&&(o.state.notes[e][n]=s,a.pubsub.publish("controls changed",o.state)),"transpose"==n&&(o.state.transpose=s,a.pubsub.publish("controls changed",o.state))}(t)))})),document.querySelector(".toggle").addEventListener("click",(t=>function(t){"theme"==t.target.getAttribute("data-parameter")&&(o.state.theme=value,a.pubsub.publish("theme changed",o.state))}(t))),[...t].forEach((t=>{t.addEventListener("input",(t=>function(t){const e=t.target.getAttribute("data-index"),n=t.target.getAttribute("data-parameter"),o=t.target.value,a=document.querySelectorAll(".slider_value");"transpose"==n&&(a[0].textContent=o),"octave"==n&&(a[2*e+1].textContent=o),"velocity"==n&&(a[2*e+2].textContent=100*o+"%")}(t)))}))}},687:(t,e,n)=>{n.r(e),n.d(e,{pubsub:()=>o});const o={events:{},subscribe:function(t,e){console.log(`PUBSUB: someone just subscribed to know about ${t}`),this.events[t]=this.events[t]||[],this.events[t].push(e)},unsubscribe:function(t,e){console.log(`PUBSUB: someone just UNsubscribed from ${t}`),this.events[t]&&(this.events[t]=this.events[t].filter((t=>t!==e)))},publish:function(t,e){console.log(`PUBSUB: Making an broadcast about ${t} with ${e}`),this.events[t]&&this.events[t].forEach((t=>{t(e)}))}}},25:(t,e,n)=>{n.r(e),n.d(e,{renderListTemplate:()=>a}),n(687),n(677);var o=n(542);function a(t){const e=`\n    <hr />\n          \n    <div\n      class="param rotation flex flex-wrap justify-between w-full mx-auto p-3 mb-3"\n    >\n      <label for="rotation" class="text-sm text-mid 2xl:text-2xl">Transpose</label>\n      <div class="slider_value text-sm text-mid 2xl:text-2xl">${t.transpose}</div>\n      <input\n        type="range"\n        min="-180"\n        max="180"\n        value="${t.transpose}"\n        class="param slider light w-full mt-3"\n        name="rotation"\n        id="rotation"\n        data-parameter="transpose"\n      />\n    </div>\n    <hr />\n    <ul\n      class="notes md:overflow-y-scroll md:scrollbar md:scrollbar-thin md:h-full w-full mb-3"\n      id="notes"\n    > \n  `,n=t.notes.map(((t,e)=>`\n    \n    <li class="note w-full h-max p-3 md:flex md:flex-row" data-index=${e}>\n\t\t\t<div class=controls w-full>\n\t\t\t\t<div class="interval-wrapper">\n\t\t\t\t\t<select name="interval" class="param text-base text-mid 2xl:text-2xl font-semibold transition ease-in-out m-0 p-1 w-full mb-2 shadow-sm border border-light rounded focus:text-light focus:border-blue-600 focus:outline-none" data-index=${e} data-parameter="interval">\n\t\t\t\t\t\t<option value="1" ${1==t.interval?"selected":""} class="text-sm">Fundamental</option>\n\t\t\t\t\t\t<option value="1.067" ${1.067==t.interval?"selected":""} class="text-sm">Minor Second</option>\n\t\t\t\t\t\t<option value="1.125" ${1.125==t.interval?"selected":""} class="text-sm">Major Second</option>\n\t\t\t\t\t\t<option value="1.200" ${1.2==t.interval?"selected":""} class="text-sm">Minor Third</option>\n\t\t\t\t\t\t<option value="1.250" ${1.25==t.interval?"selected":""} class="text-sm">Major Third</option>\n\t\t\t\t\t\t<option value="1.333" ${1.333==t.interval?"selected":""} class="text-sm">Perfect Fourth</option>\n\t\t\t\t\t\t<option value="1.414" ${1.414==t.interval?"selected":""} class="text-sm">Tritone</option>\n\t\t\t\t\t\t<option value="1.500" ${1.5==t.interval?"selected":""} class="text-sm">Perfect Fifth</option>\n\t\t\t\t\t\t<option value="1.600" ${1.6==t.interval?"selected":""} class="text-sm">Minor Sixth</option>\n\t\t\t\t\t\t<option value="1.666" ${1.666==t.interval?"selected":""} class="text-sm">Major Sixth</option>\n\t\t\t\t\t\t<option value="1.777" ${1.777==t.interval?"selected":""} class="text-sm">Minor Seventh</option>\n\t\t\t\t\t\t<option value="1.875" ${1.875==t.interval?"selected":""}class="text-sm">Major Seventh</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div class="color_preview w-full h-6" style="background: rgb(${t.color[0]} ${t.color[1]} ${t.color[2]})"></div>\n\t\t\t\t<div class="flex flex-wrap justify-between w-full mt-3">\n\t\t\t\t\t<label for="octave" class="text-sm text-mid 2xl:text-2xl">Octave</label>\n\t\t\t\t\t<div class="slider_value text-sm text-mid 2xl:text-2xl">${t.octave}</div>\n\t\t\t\t\t<input type="range" name="octave" class="param octave slider light mt-3 mb-3 form-range w-full p-0 focus:outline-none focus:ring-0 focus:shadow-none" min="-4" max="4" value=${t.octave} data-index=${e} data-parameter="octave"/>\n\t\t\t\t</div>\n\t\t\t\t<div class="flex flex-wrap justify-between w-full">\n\t\t\t\t\t<label for="velocity" class="text-sm text-mid 2xl:text-2xl">Velocity</label>\n\t\t\t\t\t<div class="slider_value text-sm text-mid 2xl:text-2xl">${100*t.velocity}%</div>\n\t\t\t\t\t<input type="range" name="velocity" class="param saturation slider light mt-3 mb-3 form-range md:w-72 p-0 focus:outline-none focus:ring-0 focus:shadow-none" min=0.0 max=1.0 value=${t.velocity} step="0.1" data-index=${e} data-parameter="velocity"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=color_preview hidden w-2/4 flex-grow ml-3 border-2 border-light></div>\t\n\t\t</li>`));document.querySelector(".controls-container").innerHTML=e+n.join("")+'</ul>\n    <button class="add_interval_button p-3 border border-mid mx-auto rounded text-mid 2xl:text-2xl font-medium justify-self-end mb-3">\n    Add Color\n    </button>\n  ',(0,o.q)()}},677:(t,e,n)=>{n.r(e),n.d(e,{state:()=>a});const o=2*Math.PI;let a={transpose:0,notes:[{interval:1,octave:4,velocity:1,color:[255,0,0]},{interval:1.15,octave:4,velocity:.8,color:[137,215,220]}],shaderUniforms:{},theme:"light"};a.shaderUniforms={wheelRadius:{name:"wheelRadius",type:"1f",value:.9},noteRadius:{name:"noteRadius",type:"1f",value:.1},noteAngles:{name:"angles",type:"1fv",value:a.notes.map((t=>o*t.interval+a.transpose*Math.PI*180))},noteVelocities:{name:"velocities",type:"1fv",value:a.notes.map((t=>t.velocity))},noteOctaves:{name:"octaves",type:"1fv",value:a.notes.map((t=>t.octave/4))},numNotes:{name:"numNotes",type:"int",value:a.notes.length}}}},e={};function n(o){var a=e[o];if(void 0!==a)return a.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,n),s.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(132),n(25),n(687),n(677),n(542),n(751)})();