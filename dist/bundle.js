(()=>{"use strict";var t={144:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Colors=function t(){var e=this;this.colors=[],this.intervals={C:0,"C#":.067,D:.125,Eb:.2,E:.25,F:.333,"F#":.414,G:.5,Ab:.6,A:.666,Bb:.777,B:.875},t.prototype.add=function(t){var e=r(t);this.colors.push(e)},t.prototype.remove=function(t){var e=o(t);this.colors.splice(e,1)},t.prototype.getColorStyleRule=function(t){return console.log(t,this.colors[o(t)]),n(this.colors[o(t)])},t.prototype.getColorStyleRuleByIndex=function(t){return n(this.colors[t])},t.prototype.getAllColors=function(){return this.colors};var r=function(t){var r=t.target.getBoundingClientRect(),o=360*e.intervals[t.target.classList[0]],n=100*((t.clientY-r.top)/r.height).toFixed(2),l=t.target.getAttribute("data-octave");return[o,n,l=l/8*100]},o=function(t){var r=360*e.intervals[t.classList[0]],o=t.getAttribute("data-octave");return o=o/8*100,e.colors.map((function(t,e){return t[0]==r&&t[2]==o?e:null})).filter((function(t){return null!=t}))};function n(t){return"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}}},97:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Controller=void 0;var o=r(950),n=r(144),l=r(751),a=r(693);e.Controller=function t(){var e=new o.Theme,r=new l.Piano,i=new n.Colors,c=new a.Palette;t.prototype.handleInput=function(){document.querySelector(".toggle").onclick=function(t){return e.toggleDark(t)};var t=document.querySelectorAll("section#piano svg > g > path");[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach((function(t){t.addEventListener("click",(function(t){"false"==t.target.getAttribute("data-active")?(i.add(t),r.keyDown(t.target,i.getColorStyleRule(t.target))):(r.keyUp(t.target),i.remove(t.target)),c.render(i)}))}))}}},693:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Palette=function t(){t.prototype.render=function(t){for(var e=document.querySelector("section:first-child");e.firstChild;)e.removeChild(e.firstChild);var r=document.createElement("div");r.classList="flex-grow h-full",t.getAllColors().forEach((function(o,n){r.style.backgroundColor=t.getColorStyleRuleByIndex(n),e.appendChild(r.cloneNode())}))}}},751:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Piano=void 0,r(144),e.Piano=function t(){t.prototype.init=function(){var t;t=document.querySelectorAll("path:nth-child(2), path:nth-child(4), path:nth-child(7), path:nth-child(9), path:nth-child(11)"),[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach((function(t){return t.classList.add("accidental")}))},t.prototype.keyDown=function(t,e){console.log(t,e),t.style.fill=e,t.setAttribute("data-active","true")},t.prototype.keyUp=function(t){t.style.fill=t.classList.contains("accidental")?"black":"white",t.setAttribute("data-active","false")}}},950:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Theme=function t(){this.darkMode=!1,t.prototype.toggleDark=function(t){this.darkMode=!this.darkMode;var e=document.querySelector(".root"),r=document.querySelector(".switch"),o=document.querySelector(".icon"),n=document.querySelector(".mask");this.darkMode?(e.style.setProperty("--bg-main","var(--gray-900)"),e.style.setProperty("--bg-focus","var(--gray-800)"),e.style.setProperty("--mid","var(--gray-500)"),e.style.setProperty("--high-contrast","var(--gray-100)")):(e.style.setProperty("--bg-main","var(--gray-100)"),e.style.setProperty("--bg-focus","var(--gray-500)"),e.style.setProperty("--mid","var(--gray-900)"),e.style.setProperty("--high-contrast","var(--gray-900)")),r.classList.toggle("switch-left"),r.classList.toggle("switch-right"),n.classList.toggle("nomask"),o.classList.toggle("sun")}}}},e={};(new(function r(o){var n=e[o];if(void 0!==n)return n.exports;var l=e[o]={exports:{}};return t[o](l,l.exports,r),l.exports}(97).Controller)).handleInput()})();