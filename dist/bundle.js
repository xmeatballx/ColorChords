(()=>{"use strict";var t={144:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=e.Colors=function(){this.colors=[],this.intervals={C:0,"C#":.067,D:.125,Eb:.2,E:.25,F:.333,"F#":.414,G:.5,Ab:.6,A:.666,Bb:.777,B:.875}};o.prototype.add=function(t){var e=this.getColorByKey(t);this.colors.push(e)},o.prototype.remove=function(t){var e=this.indexOf(t);this.colors.splice(e,1)},o.prototype.getColorStyleRule=function(t){var e=this.colors[this.indexOf(t)];return"hsl("+e[0]+", "+100*e[1]+"%, "+100*e[2]+"%)"},o.prototype.getColor=function(t){var e=t.target.getBoundingClientRect(),o=360*this.intervals[t.target.classList[0]],r=((t.clientY-e.top)/e.height).toFixed(2),i=t.target.getAttribute("data-octave");return[o,r,i/=8]},o.prototype.getAllColors=function(){return this.colors},o.prototype.indexOf=function(t){console.log(t);var e=360*this.intervals[t.classList[0]],o=t.getAttribute("data-octave");o/=8;var r=this.colors.map((function(t,r){return t[0]==e&&t[2]==o?r:null}));return r.filter((function(t){return null!=t}))},o.prototype.getColorByKey=function(t){var e=t.target.getBoundingClientRect(),o=360*this.intervals[t.target.classList[0]],r=((t.clientY-e.top)/e.height).toFixed(2),i=t.target.getAttribute("data-octave");return[o,r,i/=8]}},97:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Controller=void 0;var r=o(950),i=o(144),n=o(751),s=o(693),l=e.Controller=function(){this.theme=new r.Theme,this.piano=new n.Piano,this.colors=new i.Colors,this.palette=new s.Palette,this.actives=[]};l.prototype.handleInput=function(t){"false"==t.target.getAttribute("data-active")?this.useNote(t):this.disposeNote(t.target),this.palette.render(this.colors)},l.prototype.useNote=function(t){if(this.actives.length<10){var e=t.target;this.colors.add(t),this.piano.keyDown(e,this.colors.getColorStyleRule(e)),this.actives.push(e)}},l.prototype.disposeNote=function(t){this.piano.keyUp(t),this.colors.remove(t),this.actives.splice(0,1)}},693:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=e.Palette=function(){this.colorSection=document.querySelector("section:first-child"),this.colorBlock=document.createElement("div")};function r(t,e){var o=document.createElement("ul");switch(o.className="grid justify-center items-center w-max m-auto font-bold text-main text-shadow",t){case"hsl":o.appendChild(i("H: ",e.hsl.h)),o.appendChild(i("S: ",e.hsl.s)),o.appendChild(i("L: ",e.hsl.l));break;case"rgb":o.appendChild(i("R: ",e.rgb.r)),o.appendChild(i("G: ",e.rgb.g)),o.appendChild(i("B: ",e.rgb.b));break;case"hex":o.appendChild(i("Hex: ",e.hex.value))}return o}function i(t,e){var o=document.createElement("li");return o.className="text-main text-shadow",o.textContent=t+e,o}function n(t){for(;t.firstChild;)t.removeChild(t.firstChild)}o.prototype.render=function(t){var e=this;n(this.colorSection),this.colorBlock.classList="flex-grow h-full grid items-center justify-center",function(t){return console.log(t),Promise.all(t.getAllColors().map((function(t){var e=Math.round(t[0]),o=Math.round(100*t[1])+"%",r=Math.round(100*t[2])+"%";return fetch("https://www.thecolorapi.com/id?hsl="+e+","+o+","+r+"&format=json")})))}(t).then((function(t){return function(t){return Promise.all(t.map((function(t){return t.json()})))}(t)})).then((function(t){t.map((function(t){return e.paintUI(t)}))}))},o.prototype.paintUI=function(t){n(this.colorBlock),this.colorBlock.appendChild(function(t){var e=document.createElement("h2");return e.className="font-bold text-main text-shadow text-center",e.textContent=t.name.value,e}(t)),this.colorBlock.appendChild(r("hsl",t)),this.colorBlock.appendChild(r("rgb",t)),this.colorBlock.appendChild(r("hex",t)),this.colorBlock.style.backgroundColor="hsl("+t.hsl.h+", "+t.hsl.s+"%, "+t.hsl.l+"%)",this.colorSection.appendChild(this.colorBlock.cloneNode(!0))}},751:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=e.Piano=function(){var t,e=document.querySelector(".root");this.lightColor=getComputedStyle(e).getPropertyValue("--bg-main"),this.darkColor=getComputedStyle(e).getPropertyValue("--mid"),t=document.querySelectorAll("#piano path:nth-child(2), #piano path:nth-child(4), #piano path:nth-child(7), #piano path:nth-child(9), #piano path:nth-child(11)"),[].concat(function(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}(t)).forEach((function(t){return t.classList.add("accidental")}))};o.prototype.keyDown=function(t,e){t.style.fill=e,t.setAttribute("data-active","true")},o.prototype.keyUp=function(t){console.log(t.classList.contains("accidental")),t.style.fill=1==t.classList.contains("accidental")?this.darkColor:this.lightColor,t.setAttribute("data-active","false")}},950:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),(e.Theme=function(){this.darkMode=!1,this.root=document.querySelector(".root"),this.switcher=document.querySelector(".switch"),this.icon=document.querySelector(".icon"),this.mask=document.querySelector(".mask")}).prototype.toggleDark=function(){this.darkMode=!this.darkMode,this.darkMode?(this.root.style.setProperty("--bg-main","var(--gray-900)"),this.root.style.setProperty("--bg-focus","var(--gray-800)"),this.root.style.setProperty("--mid","var(--gray-600)"),this.root.style.setProperty("--high-contrast","var(--gray-100)"),this.root.style.setProperty("--light","var(--gray-500")):(this.root.style.setProperty("--bg-main","var(--gray-100)"),this.root.style.setProperty("--bg-focus","var(--gray-500)"),this.root.style.setProperty("--mid","var(--gray-800)"),this.root.style.setProperty("--high-contrast","var(--gray-900)"),this.root.style.setProperty("--light","var(--gray-400")),this.switcher.classList.toggle("switch-left"),this.switcher.classList.toggle("switch-right"),this.mask.classList.toggle("nomask"),this.icon.classList.toggle("sun")}}},e={};function o(r){var i=e[r];if(void 0!==i)return i.exports;var n=e[r]={exports:{}};return t[r](n,n.exports,o),n.exports}(()=>{var t=new(o(97).Controller);document.querySelector(".toggle").onclick=function(t){return(void 0).theme.toggleDark(t)};var e=document.querySelectorAll("section#piano svg > g > path");[].concat(function(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}(e)).forEach((function(e){return e.addEventListener("mousedown",(function(e){return t.handleInput(e)}))}))})()})();